# CODEMAP

Auto-generated by `tools/documentation_agent.py`.

- Total Dart files scanned: **23**
- Fully documented file headers: **23**
- Missing file headers: **0**
- Total functions/methods scanned: **100**
- Functions/methods with doc comments: **100**
- Functions/methods missing doc comments: **0**

## AppEntry

- `lib/main.dart` — Initializes Firebase and boots the app with routes and theme. _(status: documented)_

## DataSource

- `lib/data/flag_list.dart` — Contains static sample flag question data. _(status: documented)_
- `lib/data/flag_loader.dart` — Loads flag assets and builds randomized quiz question sets. _(status: documented)_

## Model

- `lib/models/flag_question.dart` — Defines the data model for a single flag question. _(status: documented)_

## Screen

- `lib/screens/difficulty_screen.dart` — Lets users choose difficulty and question count. _(status: documented)_
- `lib/screens/entry_choice_screen.dart` — Lets unauthenticated users choose between guest mode or provider sign-in. _(status: documented)_
- `lib/screens/home_screen.dart` — Shows quiz categories and routes to difficulty selection. _(status: documented)_
- `lib/screens/login_screen.dart` — Handles provider-based sign-in and account creation. _(status: documented)_
- `lib/screens/quiz_screen.dart` — Presents questions, records answers, and handles scoring. _(status: documented)_
- `lib/screens/result_screen.dart` — Shows result summary and next actions after a quiz. _(status: documented)_
- `lib/screens/splash_screen.dart` — Shows startup branding and routes users based on auth state. _(status: documented)_
- `lib/screens/upgrade_account_screen.dart` — Lets anonymous users link a permanent provider account while preserving guest identity. _(status: documented)_
- `lib/screens/user_profile_screen.dart` — Displays user profile, saved high-score records, and guest conversion CTA. _(status: documented)_

## Service

- `lib/services/auth_service.dart` — Wraps authentication operations and auth-state helpers. _(status: documented)_
- `lib/services/leaderboard_band_service.dart` — Computes leaderboard rank bands (top 10/20/100) from leaderboard data. _(status: documented)_
- `lib/services/score_repository.dart` — Provides local-first score persistence with retryable Firestore sync. _(status: documented)_
- `lib/services/score_service.dart` — Persists and reads quiz scores and leaderboard data. _(status: documented)_
- `lib/services/user_checker.dart` — Creates and checks Firestore user documents. _(status: documented)_
- `lib/services/user_profile.dart` — Stores and retrieves local profile/high-score preferences. _(status: documented)_

## Utility

- `lib/config/app_config.dart` — Provides compile-time configuration values used by app features. _(status: documented)_
- `lib/utils/helpers.dart` — Provides shared helper utilities used across the app. _(status: documented)_

## Widget

- `lib/widgets/auth_guard.dart` — Guards widget trees based on authentication state. _(status: documented)_
- `lib/widgets/score_sync_scope.dart` — Triggers background score sync on startup, auth changes, resume, and periodic intervals. _(status: documented)_
